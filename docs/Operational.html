<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Theory Operational (Isabelle2017: October 2017)</title>
<link media="all" rel="stylesheet" type="text/css" href="isabelle.css"/>
</head>

<body>
<div class="head"><h1>Theory Operational</h1>

<span class="command">theory</span> <span class="name">Operational</span><br/>
<span class="keyword">imports</span> <a href="Run.html"><span class="name">Run</span></a><br/>

</div>
<div class="source">
<pre class="source"><span class="keyword1"><span class="command">theory</span></span><span class=""> </span><span class="">Operational</span><span class="">
</span><span class="keyword2"><span class="keyword">imports</span></span><span class="">
</span><span class="">    </span><span class="string">&quot;TESL&quot;</span><span class="">
</span><span class="">    </span><span class="string">&quot;Run&quot;</span><span class="">
</span><span class="">
</span><span class="keyword2"><span class="keyword">begin</span></span><span class="">
</span><span class="keyword1"><span class="command">text</span></span><span class="verbatim">{* Operational steps *}</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">abbreviation</span></span><span class=""> </span><span class="">uncurry_conf</span><span class="">
</span><span class="">  </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;system &#8658; instant_index &#8658; TESL_formula &#8658; TESL_formula &#8658; config&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_, _ &#8866; _ &#9657; _&quot;</span><span class=""> </span><span class="">80</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#915;, n &#8866; &#936; &#9657; &#934; &#8801; (&#915;, n, &#936;, &#934;)&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">inductive</span></span><span class=""> </span><span class="">operational_semantics_intro</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8681;</span><sub>i</sub> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="">instant_i</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run &#915; &#10233; *)
   &#915;, n &#8866; [] &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>i</sub>  &#915;, Suc n &#8866; &#934; &#9657; []&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">inductive</span></span><span class=""> </span><span class="">operational_semantics_elim</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8681;</span><sub>e</sub> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="">sporadic_e1</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run &#915; &#10233; *)
   &#915;, n &#8866; (K sporadic &#964;) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  &#915;, n &#8866; &#936; &#9657; (K sporadic &#964;) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">sporadic_e2</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run ((K &#8657; n) # (K &#8659; n @ &#8970;&#964;&#8971;) # &#915;) &#10233; *)
   &#915;, n &#8866; (K sporadic &#964;) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  K &#8657; n # K &#8659; n @ &#8970;&#964;&#8971; # &#915;, n &#8866; &#936; &#9657; &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">sporadic_on_e1</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run &#915; &#10233; *)
   &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">sporadic_on_e2</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964;) # &#915;) &#10233; *)
   &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964; # &#915;, n &#8866; &#936; &#9657; &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">tagrel_e</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run ((&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n) &#8784; &#945; * &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n) + &#946;) # &#915;) &#10233; *)
   &#915;, n &#8866; (tag-relation K<span class="hidden">&#8681;</span><sub>1</sub> = &#945; * K<span class="hidden">&#8681;</span><sub>2</sub> + &#946;) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  (&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n) &#8784; &#945; * &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n) + &#946;) # &#915;, n &#8866; &#936; &#9657; (tag-relation K<span class="hidden">&#8681;</span><sub>1</sub> = &#945; * K<span class="hidden">&#8681;</span><sub>2</sub> + &#946;) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">tagrelgen_e</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;&#915;, n &#8866; (tag-relation &#10216;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#10217; &#8712; R) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  (&#10216;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#10217; &#949; R) # &#915;, n &#8866; &#936; &#9657; (tag-relation &#10216;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#10217; &#8712; R) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">implies_e1</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n # &#915;) &#10233; *)
   &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n # &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">implies_e2</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run ((K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n) # (K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n) # &#915;) &#10233; *)
   &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n # &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">timedelayed_e1</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run (K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n # &#915;) &#10233; *)
   &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n # &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">timedelayed_e2</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="string">&quot;(* consistent_run (K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # &#915;) &#10233; *)
   &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#9657; &#934;
     &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>3</sub> sporadic &#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n) &#8853; &#948;&#964;&#8971; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">inductive</span></span><span class=""> </span><span class="">operational_semantics_step</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618; _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">    </span><span class="">intro_part</span><span class="delimiter">:</span><span class=""> </span><span class="string">&quot;&#915;<span class="hidden">&#8681;</span><sub>1</sub>, n<span class="hidden">&#8681;</span><sub>1</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>  &#8618;<span class="hidden">&#8681;</span><sub>i</sub>  &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n<span class="hidden">&#8681;</span><sub>2</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub>
   &#10233; &#915;<span class="hidden">&#8681;</span><sub>1</sub>, n<span class="hidden">&#8681;</span><sub>1</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>  &#8618;  &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n<span class="hidden">&#8681;</span><sub>2</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">  </span><span class="delimiter">|</span><span class=""> </span><span class="">elims_part</span><span class="delimiter">:</span><span class=""> </span><span class="string">&quot;&#915;<span class="hidden">&#8681;</span><sub>1</sub>, n<span class="hidden">&#8681;</span><sub>1</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>  &#8618;<span class="hidden">&#8681;</span><sub>e</sub>  &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n<span class="hidden">&#8681;</span><sub>2</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub>
   &#10233; &#915;<span class="hidden">&#8681;</span><sub>1</sub>, n<span class="hidden">&#8681;</span><sub>1</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>  &#8618;  &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n<span class="hidden">&#8681;</span><sub>2</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">abbreviation</span></span><span class=""> </span><span class="">operational_semantics_step_rtranclp</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8679;</span><sup>*</sup><span class="hidden">&#8679;</span><sup>*</sup> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8679;</span><sup>*</sup><span class="hidden">&#8679;</span><sup>*</sup> &#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8801; operational_semantics_step<span class="hidden">&#8679;</span><sup>*</sup><span class="hidden">&#8679;</span><sup>*</sup> &#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#119966;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">abbreviation</span></span><span class=""> </span><span class="">operational_semantics_step_tranclp</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8679;</span><sup>+</sup><span class="hidden">&#8679;</span><sup>+</sup> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8679;</span><sup>+</sup><span class="hidden">&#8679;</span><sup>+</sup> &#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8801; operational_semantics_step<span class="hidden">&#8679;</span><sup>+</sup><span class="hidden">&#8679;</span><sup>+</sup> &#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#119966;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">abbreviation</span></span><span class=""> </span><span class="">operational_semantics_step_reflclp</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8679;</span><sup>=</sup><span class="hidden">&#8679;</span><sup>=</sup> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8679;</span><sup>=</sup><span class="hidden">&#8679;</span><sup>=</sup> &#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8801; operational_semantics_step<span class="hidden">&#8679;</span><sup>=</sup><span class="hidden">&#8679;</span><sup>=</sup> &#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#119966;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">abbreviation</span></span><span class=""> </span><span class="">operational_semantics_step_relpowp</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; nat &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8663;</span><sup>_<span class="hidden">&#8662;</span></sup> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8663;</span><sup>n<span class="hidden">&#8662;</span></sup> &#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8801; (operational_semantics_step ^^ n) &#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#119966;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">definition</span></span><span class=""> </span><span class="">operational_semantics_elim_inv</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;_ &#8618;<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8679;</span><sup>&#8592;</sup> _&quot;</span><span class=""> </span><span class="">70</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8679;</span><sup>&#8592;</sup> &#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8801; &#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8618;<span class="hidden">&#8681;</span><sub>e</sub> &#119966;<span class="hidden">&#8681;</span><sub>1</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">operational_semantics_trans_generalized</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">assumes</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8663;</span><sup>n<span class="hidden">&#8662;</span></sup> &#119966;<span class="hidden">&#8681;</span><sub>2</sub>&quot;</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">assumes</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>2</sub> &#8618;<span class="hidden">&#8663;</span><sup>m<span class="hidden">&#8662;</span></sup> &#119966;<span class="hidden">&#8681;</span><sub>3</sub>&quot;</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>1</sub> &#8618;<span class="hidden">&#8663;</span><sup>n + m<span class="hidden">&#8662;</span></sup> &#119966;<span class="hidden">&#8681;</span><sub>3</sub>&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">metis</span><span class=""> </span><span class="delimiter">(</span><span class="">no_types</span><span class="delimiter">,</span><span class=""> </span><span class="">hide_lams</span><span class="delimiter">)</span><span class=""> </span><span class="">assms</span><span class="delimiter">(</span><span class="">1</span><span class="delimiter">)</span><span class=""> </span><span class="">assms</span><span class="delimiter">(</span><span class="">2</span><span class="delimiter">)</span><span class=""> </span><span class="">relcompp.relcompI</span><span class=""> </span><span class="">relpowp_add</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="comment">(*
inductive operational_semantics_simlstep :: &quot;config &#8658; config &#8658; bool&quot; (&quot;_ &#8618;<span class="hidden">&#8681;</span><sub>&#8711;</sub> _&quot; 70) where
  &quot;(&#915;<span class="hidden">&#8681;</span><sub>1</sub>, n &#8866; [] &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>) &#8618;<span class="hidden">&#8679;</span><sup>+</sup><span class="hidden">&#8679;</span><sup>+</sup> (&#915;, n + 1 &#8866; [] &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub>) &#10233;
   &#936;<span class="hidden">&#8681;</span><sub>1</sub> = [] &#10233;
   &#936;<span class="hidden">&#8681;</span><sub>2</sub> = [] &#10233;
   n&#39; = Suc n &#10233;
   (&#915;<span class="hidden">&#8681;</span><sub>1</sub>, n &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>) &#8618;<span class="hidden">&#8681;</span><sub>&#8711;</sub> (&#915;, n&#39; &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub>)&quot;
*)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">abbreviation</span></span><span class=""> </span><span class="">Cnext_solve</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; config set&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> _&quot;</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> &#119982; &#8801; { &#119982;&#39;. &#119982; &#8618; &#119982;&#39; }&quot;</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_instant</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; [] &#9657; &#934;)
          &#8839; { &#915;, Suc n &#8866; &#934; &#9657; [] }&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_intro.instant_i</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_sporadic</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; (K sporadic &#964;) # &#936; &#9657; &#934;)
          &#8839; { &#915;, n &#8866; &#936; &#9657; (K sporadic &#964;) # &#934;,
              K &#8657; n # K &#8659; n @ &#8970;&#964;&#8971; # &#915;, n &#8866; &#936; &#9657; &#934; }&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_elim.sporadic_e1</span><span class=""> </span><span class="">operational_semantics_elim.sporadic_e2</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_sporadicon</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934;)
          &#8839; { &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> sporadic &#964; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;,
              K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # K<span class="hidden">&#8681;</span><sub>2</sub> &#8659; n @ &#964; # &#915;, n &#8866; &#936; &#9657; &#934; }&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_elim.sporadic_on_e1</span><span class=""> </span><span class="">operational_semantics_elim.sporadic_on_e2</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_tagrel</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; (tag-relation K<span class="hidden">&#8681;</span><sub>1</sub> = &#945; * K<span class="hidden">&#8681;</span><sub>2</sub> + &#946;) # &#936; &#9657; &#934;)
          &#8839; { (&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n) &#8784; &#945; * &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n) + &#946;) # &#915;, n &#8866; &#936; &#9657; (tag-relation K<span class="hidden">&#8681;</span><sub>1</sub> = &#945; * K<span class="hidden">&#8681;</span><sub>2</sub> + &#946;) # &#934; }&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_elim.tagrel_e</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_tagrelgen</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; (tag-relation &#10216;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#10217; &#8712; R) # &#936; &#9657; &#934;)
          &#8839; { (&#10216;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>1</sub>, n), &#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n)&#10217; &#949; R) # &#915;, n &#8866; &#936; &#9657; (tag-relation &#10216;K<span class="hidden">&#8681;</span><sub>1</sub>, K<span class="hidden">&#8681;</span><sub>2</sub>&#10217; &#8712; R) # &#934; }&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_elim.tagrelgen_e</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_implies</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; &#934;)
          &#8839; { K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n # &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;,
              K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # K<span class="hidden">&#8681;</span><sub>2</sub> &#8657; n # &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> implies K<span class="hidden">&#8681;</span><sub>2</sub>) # &#934;}&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_elim.implies_e1</span><span class=""> </span><span class="">operational_semantics_elim.implies_e2</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">Cnext_solve_timedelayed</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;&#119966;<span class="hidden">&#8681;</span><sub>n</sub><span class="hidden">&#8681;</span><sub>e</sub><span class="hidden">&#8681;</span><sub>x</sub><span class="hidden">&#8681;</span><sub>t</sub> (&#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#936; &#9657; &#934;)
          &#8839; { K<span class="hidden">&#8681;</span><sub>1</sub> &#172;&#8657; n # &#915;, n &#8866; &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934;,
              K<span class="hidden">&#8681;</span><sub>1</sub> &#8657; n # &#915;, n &#8866; (K<span class="hidden">&#8681;</span><sub>3</sub> sporadic &#8970;&#964;<span class="hidden">&#8681;</span><sub>v</sub><span class="hidden">&#8681;</span><sub>a</sub><span class="hidden">&#8681;</span><sub>r</sub>(K<span class="hidden">&#8681;</span><sub>2</sub>, n) &#8853; &#948;&#964;&#8971; on K<span class="hidden">&#8681;</span><sub>2</sub>) # &#936; &#9657; (K<span class="hidden">&#8681;</span><sub>1</sub> time-delayed by &#948;&#964; on K<span class="hidden">&#8681;</span><sub>2</sub> implies K<span class="hidden">&#8681;</span><sub>3</sub>) # &#934; }&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="delimiter">(</span><span class="">simp</span><span class=""> </span><span class="">add</span><span class="delimiter">:</span><span class=""> </span><span class="">operational_semantics_step.simps</span><span class=""> </span><span class="">operational_semantics_elim.timedelayed_e1</span><span class=""> </span><span class="">operational_semantics_elim.timedelayed_e2</span><span class="delimiter">)</span><span class="">
</span><span class="">
</span><span class="keyword1"><span class="command">lemma</span></span><span class=""> </span><span class="">empty_spec_reductions</span><span class="delimiter">:</span><span class="">
</span><span class="">  </span><span class="keyword2"><span class="keyword">shows</span></span><span class=""> </span><span class="string">&quot;[], 0 &#8866; [] &#9657; [] &#8618;<span class="hidden">&#8663;</span><sup>k<span class="hidden">&#8662;</span></sup> [], k &#8866; [] &#9657; []&quot;</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">proof</span></span><span class=""> </span><span class="delimiter">(</span><span class="">induct</span><span class=""> </span><span class="">k</span><span class="delimiter">)</span><span class="">
</span><span class="">    </span><span class="keyword3"><span class="command">case</span></span><span class=""> </span><span class="">0</span><span class="">
</span><span class="">    </span><span class="keyword1"><span class="command">then</span></span><span class=""> </span><span class="keyword3"><span class="command">show</span></span><span class=""> </span><span class="var">?case</span><span class=""> </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="">simp</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">next</span></span><span class="">
</span><span class="">    </span><span class="keyword3"><span class="command">case</span></span><span class=""> </span><span class="delimiter">(</span><span class="">Suc</span><span class=""> </span><span class="">k</span><span class="delimiter">)</span><span class="">
</span><span class="">    </span><span class="keyword1"><span class="command">then</span></span><span class=""> </span><span class="keyword3"><span class="command">show</span></span><span class=""> </span><span class="var">?case</span><span class="">
</span><span class="">      </span><span class="keyword1"><span class="command">using</span></span><span class=""> </span><span class="">instant_i</span><span class=""> </span><span class="">intro_part</span><span class=""> </span><span class="keyword1"><span class="command">by</span></span><span class=""> </span><span class="">auto</span><span class="">
</span><span class="">  </span><span class="keyword1"><span class="command">qed</span></span><span class="">
</span><span class="">
</span><span class="comment">(* To decide finite-satisfiability of TESL specifications *)</span><span class="">
</span><span class="keyword1"><span class="command">inductive</span></span><span class=""> </span><span class="">finite_SAT</span><span class=""> </span><span class="delimiter">::</span><span class=""> </span><span class="string">&quot;config &#8658; bool&quot;</span><span class=""> </span><span class="delimiter">(</span><span class="string">&quot;&#8875; _&quot;</span><span class=""> </span><span class="">50</span><span class="delimiter">)</span><span class=""> </span><span class="keyword2"><span class="keyword">where</span></span><span class="">
</span><span class="">  </span><span class="">finite_SAT_ax</span><span class="delimiter">:</span><span class=""> </span><span class="string">&quot;set (NoSporadic &#934;) = set &#934; &#10233;
                    consistent_run &#915; &#10233;
                   &#8875; &#915;, n &#8866; &#936; &#9657; &#934;&quot;</span><span class="">
</span><span class="delimiter">|</span><span class=""> </span><span class="">finite_SAT_i</span><span class="delimiter">:</span><span class=""> </span><span class="string">&quot;&#915;<span class="hidden">&#8681;</span><sub>1</sub>, n<span class="hidden">&#8681;</span><sub>1</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub> &#8618; &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n<span class="hidden">&#8681;</span><sub>2</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub> &#10233;
                   &#8875; &#915;<span class="hidden">&#8681;</span><sub>2</sub>, n<span class="hidden">&#8681;</span><sub>2</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>2</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>2</sub> &#10233;
                   &#8875; &#915;<span class="hidden">&#8681;</span><sub>1</sub>, n<span class="hidden">&#8681;</span><sub>1</sub> &#8866; &#936;<span class="hidden">&#8681;</span><sub>1</sub> &#9657; &#934;<span class="hidden">&#8681;</span><sub>1</sub>&quot;</span><span class="">
</span><span class="">
</span><span class="keyword2"><span class="keyword">end</span></span></pre>

</div>
</body>
</html>
